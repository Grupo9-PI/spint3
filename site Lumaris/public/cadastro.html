<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href=".//assets/imgs/Lumaris.jpg" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <title>Cadastre-se em Lumaris</title>
</head>

<body>
  <div class="navbar">
    <div>
      <a class="logo" href="index.html">LUMARIS</a>
    </div>
    <div>
      <hr>
    </div>
    <div class="navegacao">
      <a href="index.html">Início</a>
      <a href="simulador.html">Simulador</a>
      <a href="login.html">Login</a>
      <a href="#" style="color: turquoise;">Cadastro</a>
    </div>
  </div>
  <div class="login">
    <div class="container">
      <div class="card card-cadastro">
        <h2>Bem-vindo(a)!</h2>
        <div class="formulario">

          <div class="campo">
            <label for="razao_input">Razão social</label>
            <input id="razao_input" type="text" placeholder="Razão social" />
          </div>

          <div class="campo">
            <label for="nome_input">Nome:</label>
            <input id="nome_input" type="text" placeholder="Seu nome" />
          </div>

          <div class="campo">
            <label for="cnpj_input">CNPJ</label>
            <input id="cnpj_input" type="text" placeholder="CNPJ da empresa" />
          </div>

          <div class="campo">
            <label for="email_input">E-mail:</label>
            <input id="email_input" type="email" placeholder="meuemail@provedor.com" />
          </div>

          <div class="campo">
            <label for="senha_input">Senha:</label>
            <input id="senha_input" type="password" placeholder="Digite sua senha" />
          </div>

          <div class="campo">
            <label for="confirmacao_senha_input">Confirmação da Senha:</label>
            <input id="confirmacao_senha_input" type="password" placeholder="Digite sua senha" />
          </div>

        </div>
      </div>

      <div class="card card-cadastro">
        <h2>Endereço</h2>
        <div class="formulario">

          <div class="campo">
            <label for="estado_input">UF</label>
            <select id="estado_input">
              <option value="">Selecione um estado</option>
              <option value="AC">Acre</option>
              <option value="AL">Alagoas</option>
              <option value="AP">Amapá</option>
              <option value="AM">Amazonas</option>
              <option value="BA">Bahia</option>
              <option value="CE">Ceará</option>
              <option value="DF">Distrito Federal</option>
              <option value="ES">Espírito Santo</option>
              <option value="GO">Goiás</option>
              <option value="MA">Maranhão</option>
              <option value="MT">Mato Grosso</option>
              <option value="MS">Mato Grosso do Sul</option>
              <option value="MG">Minas Gerais</option>
              <option value="PA">Pará</option>
              <option value="PB">Paraíba</option>
              <option value="PR">Paraná</option>
              <option value="PE">Pernambuco</option>
              <option value="PI">Piauí</option>
              <option value="RJ">Rio de Janeiro</option>
              <option value="RN">Rio Grande do Norte</option>
              <option value="RS">Rio Grande do Sul</option>
              <option value="RO">Rondônia</option>
              <option value="RR">Roraima</option>
              <option value="SC">Santa Catarina</option>
              <option value="SP">São Paulo</option>
              <option value="SE">Sergipe</option>
              <option value="TO">Tocantins</option>
            </select>
          </div>


          <div class="campo">
            <label for="cidade_input">Cidade</label>
            <input id="cidade_input" type="text" placeholder="Sua cidade" />
          </div>

          <div class="campo">
            <label for="bairro_input">Bairro</label>
            <input id="bairro_input" type="text" placeholder="Seu bairro" />
          </div>

          <div class="campo">
            <label for="rua_input">Logradouro</label>
            <input id="rua_input" type="text" placeholder="Sua rua" />
          </div>

          <div class="campo">
            <label for="num_input">Número</label>
            <input id="num_input" type="text" placeholder="Seu número" />
          </div>

          <button class="botao" type="submit" onclick="cadastrar()">Cadastrar</button>

        </div>
      </div>

    </div>
  </div>

  <footer class="footer">
  <div class="footer-content">
    <div class="footer-left">
      <h2>Lumaris</h2>
      <p>&copy; 2025 Lumaris. Todos os direitos reservados.</p>
    </div>
    <div class="footer-right">
      <ul class="social-icons">
        <li>
          <a href="https://github.com/grupo09_PI" target="_blank" rel="noopener">
            <img src="./assets/imgs/github.png" alt="Logo do GitHub">
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

  <!-- <div class="footer">
    <div class="ondas-footer">
      <div class="onda" id="onda"></div>
      <div class="onda" id="onda2"></div>
      <div class="onda" id="onda3"></div>
      <div class="onda" id="onda4"></div>
    </div>
    <ul class="icons-footer">
      <li><a href="https://github.com/grupo09_PI"><img src="./assets/imgs/github.png" alt="Logo do github"></a></li>
    </ul>

    <p>&copy; Lumaris 2025 | Todos os direitos reservados</p>
  </div> -->

  <script src="js/app.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

  <script>
    function limparFormulario() {
  var inputs = document.querySelectorAll('input');
  for (var i = 0; i < inputs.length; i++) {
    inputs[i].value = '';
  }
}

    function mostrarToast(mensagem, cor = "linear-gradient(to right, #00b09b, #96c93d)") {
      Toastify({
        text: mensagem,
        duration: 3000,
        close: true,
        gravity: "top",
        position: "right",
        backgroundColor: cor
      }).showToast();
    }

    function cadastrar() {
      const razaoVar = document.getElementById("razao_input").value;
      const nomeVar = document.getElementById("nome_input").value;
      const cnpjVar = document.getElementById("cnpj_input").value;
      const emailVar = document.getElementById("email_input").value;
      const senhaVar = document.getElementById("senha_input").value;
      const confirmacao_senhaVar = document.getElementById("confirmacao_senha_input").value;
      const estadoVar = document.getElementById("estado_input").value;
      const cidadeVar = document.getElementById("cidade_input").value;
      const bairroVar = document.getElementById("bairro_input").value;
      const ruaVar = document.getElementById("rua_input").value;
      const numVar = document.getElementById("num_input").value;

      if (
        razaoVar == "" ||
        nomeVar == "" ||
        cnpjVar == "" ||
        emailVar == "" ||
        senhaVar == "" ||
        confirmacao_senhaVar == "" ||
        estadoVar == "" ||
        cidadeVar == "" ||
        bairroVar == "" ||
        ruaVar == "" ||
        numVar == ""
      ) {
        mostrarToast("Insira todos os dados requisitados!", "linear-gradient(to right, #ff5f6d, #ffc371)");
        return false;
      }

      if (senhaVar !== confirmacao_senhaVar) {
        mostrarToast("As senhas não coincidem.", "linear-gradient(to right, #ff5f6d, #ffc371)");
        return false;
      }

      fetch("/empresa/cadastrar-com-endereco", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          nomeServer: nomeVar,
          emailServer: emailVar,
          senhaServer: senhaVar,
          razaoSocialServer: razaoVar,
          cnpjServer: cnpjVar,
          estadoServer: estadoVar,
          cidadeServer: cidadeVar,
          bairroServer: bairroVar,
          ruaServer: ruaVar,
          numeroServer: numVar
        })
      })
        .then(response => {
          if (!response.ok) {
            throw new Error("Erro na requisição: " + response.status);
          }
          return response.json();
        })
        .then(data => {
          mostrarToast("Cadastro realizado com sucesso!");
          limparFormulario();
        })
        .catch(error => {
          console.error("Erro:", error);
          mostrarToast("Erro ao cadastrar: " + error.message, "linear-gradient(to right, #ff5f6d, #ffc371)");
        });

      return false;
    }
  </script>


</body>

</html>